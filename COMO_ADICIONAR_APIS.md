# 🔧 Como Adicionar Novas APIs ao Swagger

## 📋 Estrutura Atual

O projeto agora está configurado para suportar múltiplas APIs no sidebar:

```
docs/
└── swagger/
    ├── api-principal.md      # API Principal
    ├── api-secundaria.md     # API Secundária  
    └── api-terceira.md       # API Terceira

static/
└── api/
    ├── openapi.yaml          # Arquivo da API Principal
    ├── api-secundaria.yaml   # Arquivo da API Secundária
    └── api-terceira.yaml     # Arquivo da API Terceira
```

## 🚀 Como Adicionar uma Nova API

### Passo 1: Criar o arquivo YAML/JSON
Coloque seu arquivo Swagger em:
```
static/api/sua-nova-api.yaml
```

### Passo 2: Criar a página de documentação
Crie um novo arquivo em:
```
docs/swagger/sua-nova-api.md
```

**Conteúdo do arquivo:**
```markdown
---
sidebar_position: 4
---

# Sua Nova API

Documentação interativa da sua nova API usando Swagger UI.

import SwaggerUI from 'swagger-ui-react';
import 'swagger-ui-react/swagger-ui.css';

<div style={{ padding: '1rem 0' }}>
  <SwaggerUI 
    url="/api/sua-nova-api.yaml"
    deepLinking={true}
    displayOperationId={false}
    defaultModelsExpandDepth={1}
    defaultModelExpandDepth={1}
    docExpansion="list"
    supportedSubmitMethods={['get', 'post', 'put', 'delete', 'patch']}
    tryItOutEnabled={true}
  />
</div>
```

### Passo 3: Adicionar ao sidebar
Edite o arquivo `sidebars.ts` e adicione sua nova API:

```typescript
const sidebars: SidebarsConfig = {
  tutorialSidebar: [
    {type: 'autogenerated', dirName: '.'},
    {
      type: 'category',
      label: '🔧 Swagger APIs',
      items: [
        'swagger/api-principal',
        'swagger/api-secundaria',
        'swagger/api-terceira',
        'swagger/sua-nova-api',  // ← Adicione aqui
      ],
    },
  ],
};
```

### Passo 4: Ajustar posição (opcional)
No arquivo `.md` da sua API, ajuste o `sidebar_position` para controlar a ordem:
```markdown
---
sidebar_position: 4  # Posição no sidebar
---
```

## 🎯 Exemplo Prático

### Adicionando "API de Pagamentos"

1. **Arquivo YAML**: `static/api/api-pagamentos.yaml`
2. **Página MD**: `docs/swagger/api-pagamentos.md`
3. **Atualizar sidebar**: Adicionar `'swagger/api-pagamentos'` na lista

## 🔧 Personalizações Avançadas

### Usar URL Externa
Se sua API estiver em outro servidor:
```tsx
<SwaggerUI 
  url="https://sua-api.com/swagger.json"  // URL externa
  // ... outras configurações
/>
```

### Adicionar Autenticação
```tsx
<SwaggerUI 
  url="/api/sua-api.yaml"
  requestInterceptor={(request) => {
    request.headers.Authorization = 'Bearer SEU_TOKEN';
    return request;
  }}
  // ... outras configurações
/>
```

### Personalizar Interface
```tsx
<SwaggerUI 
  url="/api/sua-api.yaml"
  docExpansion="full"           // Expandir tudo
  defaultModelsExpandDepth={2}  // Expandir modelos
  displayRequestDuration={true} // Mostrar tempo de resposta
  // ... outras configurações
/>
```

## 📱 URLs Resultantes

Após adicionar uma nova API, ela estará disponível em:
- **Sidebar**: Na seção "🔧 Swagger APIs"
- **URL direta**: `/docs/swagger/sua-nova-api`

## 🆘 Dicas

1. **Nomes de arquivos**: Use kebab-case (ex: `api-pagamentos.yaml`)
2. **Posições**: Use números sequenciais para manter ordem
3. **Validação**: Teste seu YAML em https://editor.swagger.io/
4. **Cache**: Execute `npm run clear` se houver problemas

## 🎉 Resultado Final

Com essa estrutura, você terá:
- ✅ Múltiplas APIs organizadas no sidebar
- ✅ Interface Swagger interativa para cada API
- ✅ Fácil adição de novas APIs
- ✅ Navegação intuitiva entre documentações
